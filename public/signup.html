<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Start Your AI Lead System - Sign Up</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 40px 20px;
    }

    .container {
      max-width: 600px;
      margin: 0 auto;
      background: white;
      border-radius: 16px;
      padding: 40px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    }

    h1 {
      font-size: 32px;
      margin-bottom: 8px;
      color: #1a1a1a;
    }

    .subtitle {
      color: #666;
      margin-bottom: 32px;
      font-size: 16px;
    }

    .form-section {
      margin-bottom: 32px;
    }

    .form-section h2 {
      font-size: 18px;
      margin-bottom: 16px;
      color: #1a1a1a;
      border-bottom: 2px solid #667eea;
      padding-bottom: 8px;
    }

    .form-group {
      margin-bottom: 20px;
    }

    label {
      display: block;
      margin-bottom: 6px;
      font-weight: 500;
      color: #333;
      font-size: 14px;
    }

    input, select, textarea {
      width: 100%;
      padding: 12px;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      font-size: 15px;
      transition: border-color 0.3s;
      font-family: inherit;
    }

    input:focus, select:focus, textarea:focus {
      outline: none;
      border-color: #667eea;
    }


    .trial-badge {
      display: inline-block;
      background: #10b981;
      color: white;
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 600;
      margin-bottom: 12px;
    }

    /* Interactive Calendar Styles */
    .calendar-container, .hours-container, .yearly-container {
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      padding: 20px;
      margin-top: 12px;
      background: #fafafa;
    }

    .calendar-header h4, .yearly-header h4 {
      margin: 0 0 16px 0;
      color: #333;
      font-size: 16px;
    }

    .days-grid, .hours-grid, .months-grid {
      display: grid;
      gap: 8px;
      margin-bottom: 16px;
    }

    .days-grid {
      grid-template-columns: repeat(7, 1fr);
    }

    .hours-grid {
      grid-template-columns: repeat(6, 1fr);
    }

    .months-grid {
      grid-template-columns: repeat(6, 1fr);
    }

    .day-header, .month-header {
      text-align: center;
      font-weight: 600;
      color: #666;
      padding: 8px;
      font-size: 12px;
    }

    .day-option, .time-slot, .month-option {
      position: relative;
      text-align: center;
    }

    .yearly-note {
      margin-top: 16px;
      padding: 12px;
      background: #f0f9ff;
      border-left: 4px solid #0ea5e9;
      border-radius: 4px;
    }

    .yearly-note small {
      color: #0369a1;
      font-size: 13px;
    }

    /* Full Year Calendar Styles */
    .calendar-legend {
      margin: 8px 0 16px 0;
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 12px;
      color: #666;
    }

    .legend-color {
      width: 12px;
      height: 12px;
      border-radius: 2px;
      border: 1px solid #ddd;
    }

    .legend-color.uk-holiday {
      background: #dc2626;
    }

    .legend-color.selected {
      background: #667eea;
    }

    .legend-color.weekend {
      background: #f8f9fa;
      border-color: #6c757d;
    }

    .legend-color.available {
      background: white;
    }

    .full-year-calendar {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 6px;
      margin-bottom: 16px;
      max-height: 300px;
      overflow-y: auto;
    }

    @media (max-width: 1024px) {
      .full-year-calendar {
        grid-template-columns: repeat(3, 1fr);
        gap: 6px;
      }
    }

    @media (max-width: 768px) {
      .full-year-calendar {
        grid-template-columns: repeat(2, 1fr);
        gap: 4px;
      }
    }

    .month-calendar {
      border: 1px solid #e5e7eb;
      border-radius: 4px;
      padding: 4px;
      background: white;
      min-width: 0;
      box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    }

    .month-title {
      text-align: center;
      font-weight: 600;
      color: #374151;
      margin-bottom: 2px;
      font-size: 10px;
      padding-bottom: 1px;
      border-bottom: 1px solid #f3f4f6;
    }

    .month-days {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 1px;
      justify-items: center;
      align-items: center;
    }

    .day-header {
      text-align: center;
      font-weight: 600;
      color: #6b7280;
      padding: 1px 0;
      font-size: 8px;
      width: 16px;
      height: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .calendar-day {
      width: 16px;
      height: 16px;
      border: 1px solid #e5e7eb;
      border-radius: 2px;
      background: white;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 9px;
      font-weight: 500;
      color: #374151;
      transition: all 0.15s ease;
      position: relative;
      user-select: none;
      margin: 0;
      padding: 0;
    }

    .calendar-day:hover {
      background: #f8f9ff;
      border-color: #667eea;
    }

    .calendar-day.selected {
      background: #667eea;
      color: white;
      border-color: #667eea;
    }

    .calendar-day.uk-holiday {
      background: #dc2626;
      color: white;
      border-color: #dc2626;
      font-weight: 600;
    }

    .calendar-day.uk-holiday.selected {
      background: #dc2626;
      color: white;
      border-color: #dc2626;
      font-weight: 600;
    }

    .calendar-day.uk-holiday.deselected {
      background: white;
      color: #dc2626;
      border-color: #dc2626;
      font-weight: 600;
    }

    .calendar-day.empty {
      background: transparent;
      border: none;
      cursor: default;
    }

    .calendar-day.empty:hover {
      background: transparent;
      border: none;
    }

    .calendar-day.today {
      border-color: #10b981;
      font-weight: 600;
    }

    .calendar-day.weekend {
      background: #f8fafc;
      color: #64748b;
      border-color: #e2e8f0;
    }

    .calendar-day.weekend:hover {
      background: #f1f5f9;
      border-color: #cbd5e1;
    }

    .day-option input, .time-slot input, .month-option input {
      display: none;
    }

    .day-option label, .time-slot label, .month-option label {
      display: block;
      padding: 12px 8px;
      border: 2px solid #e0e0e0;
      border-radius: 6px;
      background: white;
      cursor: pointer;
      transition: all 0.2s;
      font-size: 14px;
      font-weight: 500;
    }

    .day-option label:hover, .time-slot label:hover, .month-option label:hover {
      border-color: #667eea;
      background: #f8f9ff;
    }

    .day-option input:checked + label, .time-slot input:checked + label, .month-option input:checked + label {
      background: #667eea;
      color: white;
      border-color: #667eea;
    }

    .quick-select {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      margin-top: 16px;
    }

    .quick-btn {
      padding: 8px 16px;
      border: 2px solid #e0e0e0;
      border-radius: 6px;
      background: white;
      color: #333;
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      transition: all 0.2s;
    }

    .quick-btn:hover {
      border-color: #667eea;
      background: #f8f9ff;
    }

    .quick-btn.clear-btn {
      border-color: #ef4444;
      color: #ef4444;
    }

    .quick-btn.clear-btn:hover {
      background: #fef2f2;
    }

    button {
      width: 100%;
      padding: 16px;
      background: #667eea;
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.3s;
    }

    button:hover {
      background: #5568d3;
    }

    button:disabled {
      background: #ccc;
      cursor: not-allowed;
    }

    .loading {
      display: none;
      text-align: center;
      padding: 40px;
    }

    .loading.active {
      display: block;
    }

    .loading-spinner {
      width: 60px;
      height: 60px;
      border: 4px solid #f3f3f3;
      border-top: 4px solid #667eea;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin: 0 auto 20px;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .loading-text {
      font-size: 18px;
      color: #667eea;
      font-weight: 600;
      margin-bottom: 8px;
    }

    .loading-subtext {
      color: #666;
      font-size: 14px;
    }

    .success {
      display: none;
      text-align: center;
      padding: 40px;
    }

    .success.active {
      display: block;
    }

    .success-icon {
      font-size: 80px;
      margin-bottom: 20px;
    }

    .success h2 {
      font-size: 28px;
      margin-bottom: 12px;
      color: #10b981;
    }

    .success-details {
      background: #f8f9ff;
      border-radius: 8px;
      padding: 20px;
      margin: 24px 0;
      text-align: left;
    }

    .success-details h3 {
      font-size: 16px;
      margin-bottom: 12px;
      color: #333;
    }

    .success-details p {
      margin: 8px 0;
      color: #666;
      font-size: 14px;
    }

    .success-details strong {
      color: #1a1a1a;
    }

    .action-buttons {
      display: grid;
      gap: 12px;
      margin-top: 24px;
    }

    .action-buttons a {
      display: block;
      padding: 14px;
      background: #667eea;
      color: white;
      text-decoration: none;
      border-radius: 8px;
      font-weight: 600;
      text-align: center;
      transition: background 0.3s;
    }

    .action-buttons a:hover {
      background: #5568d3;
    }

    .action-buttons a.secondary {
      background: white;
      color: #667eea;
      border: 2px solid #667eea;
    }

    .action-buttons a.secondary:hover {
      background: #f8f9ff;
    }

    .error {
      background: #fee;
      border: 1px solid #fcc;
      color: #c33;
      padding: 12px;
      border-radius: 8px;
      margin-bottom: 20px;
      display: none;
    }

    .error.active {
      display: block;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Form Section -->
    <div id="form-section">
      <h1>🚀 Launch Your AI Lead System</h1>
      <p class="subtitle">Start converting leads in 5 minutes. Custom pricing based on your needs.</p>

      <div class="error" id="error-message"></div>

      <form id="signup-form">
        <!-- Business Info -->
        <div class="form-section">
          <h2>📊 Business Information</h2>
          
          <div class="form-group">
            <label for="businessName">Business Name *</label>
            <input type="text" id="businessName" name="businessName" required placeholder="e.g. Acme Plumbing">
          </div>

          <div class="form-group">
            <label for="industry">What type of business do you run? *</label>
            <select id="industry" name="industry" required>
              <option value="">Choose your business type...</option>
              <option value="plumbing">🔧 Plumbing Services</option>
              <option value="hvac">🌡️ HVAC (Heating & Cooling)</option>
              <option value="electrical">⚡ Electrical Services</option>
              <option value="dental">🦷 Dental Practice</option>
              <option value="medical">🏥 Medical Practice</option>
              <option value="real_estate">🏠 Real Estate</option>
              <option value="home_improvement">🏡 Home Improvement</option>
              <option value="legal">⚖️ Legal Services</option>
              <option value="automotive">🚗 Automotive Services</option>
              <option value="other">✏️ Other (Specify below)</option>
            </select>
          </div>

          <div class="form-group">
            <label for="primaryService">Primary Service *</label>
            <input type="text" id="primaryService" name="primaryService" required placeholder="e.g. Emergency Plumbing, Dental Checkups, Legal Consultation">
          </div>

          <div class="form-group">
            <label for="serviceArea">Service Area *</label>
            <input type="text" id="serviceArea" name="serviceArea" required placeholder="e.g. London, Manchester, Nationwide">
          </div>

          <div class="form-group">
            <label for="website">Website (optional)</label>
            <input type="url" id="website" name="website" placeholder="https://acmeplumbing.com">
          </div>

          <div class="form-group">
            <label for="businessSize">How big is your business? *</label>
            <select id="businessSize" name="businessSize" required>
              <option value="">Choose your business size...</option>
              <option value="solo">👤 Just me (Solo entrepreneur)</option>
              <option value="small">👥 Small team (2-10 people)</option>
              <option value="medium">🏢 Medium business (11-50 people)</option>
              <option value="large">🏭 Large business (50+ people)</option>
            </select>
          </div>

          <div class="form-group">
            <label for="monthlyLeads">How many leads do you get per month? *</label>
            <select id="monthlyLeads" name="monthlyLeads" required>
              <option value="">Choose your lead volume...</option>
              <option value="1-50">📈 1-50 leads/month (Getting started)</option>
              <option value="51-200">📈 51-200 leads/month (Growing business)</option>
              <option value="201-500">📈 201-500 leads/month (Established)</option>
              <option value="501-1000">📈 501-1,000 leads/month (Busy)</option>
              <option value="1000+">📈 1,000+ leads/month (Very busy)</option>
            </select>
          </div>

          <div class="form-group">
            <label for="timezone">What timezone are you in? *</label>
            <select id="timezone" name="timezone" required>
              <option value="">Choose your timezone...</option>
              <option value="Europe/London">🇬🇧 GMT (London, UK)</option>
              <option value="Europe/Dublin">🇮🇪 GMT (Dublin, Ireland)</option>
              <option value="Europe/Paris">🇫🇷 CET (Paris, Berlin)</option>
              <option value="Europe/Rome">🇮🇹 CET (Rome, Madrid)</option>
              <option value="Europe/Amsterdam">🇳🇱 CET (Amsterdam)</option>
              <option value="America/New_York">🇺🇸 EST (New York)</option>
              <option value="America/Chicago">🇺🇸 CST (Chicago)</option>
              <option value="America/Denver">🇺🇸 MST (Denver)</option>
              <option value="America/Los_Angeles">🇺🇸 PST (Los Angeles)</option>
              <option value="Australia/Sydney">🇦🇺 AEST (Sydney)</option>
              <option value="Australia/Melbourne">🇦🇺 AEST (Melbourne)</option>
            </select>
          </div>
        </div>

        <!-- Contact Info -->
        <div class="form-section">
          <h2>👤 Your Contact Information</h2>
          
          <div class="form-group">
            <label for="ownerName">Your Name *</label>
            <input type="text" id="ownerName" name="ownerName" required placeholder="John Smith">
          </div>

          <div class="form-group">
            <label for="email">Email *</label>
            <input type="email" id="email" name="email" required placeholder="john@acmeplumbing.com">
          </div>

          <div class="form-group">
            <label for="phone">Phone *</label>
            <input type="tel" id="phone" name="phone" required placeholder="+44 20 1234 5678">
          </div>

          <div class="form-group">
            <label for="role">What's your role in the business? *</label>
            <select id="role" name="role" required>
              <option value="">Choose your role...</option>
              <option value="owner">👑 Business Owner</option>
              <option value="manager">👨‍💼 Manager</option>
              <option value="director">🎯 Director</option>
              <option value="marketing">📢 Marketing Manager</option>
              <option value="sales">💰 Sales Manager</option>
              <option value="other">✏️ Other</option>
            </select>
          </div>

          <div class="form-group">
            <label for="currentLeadSource">Where do most of your leads come from? (optional)</label>
            <select id="currentLeadSource" name="currentLeadSource">
              <option value="">Choose your main source...</option>
              <option value="google">🔍 Google Ads</option>
              <option value="facebook">📘 Facebook/Instagram</option>
              <option value="referrals">👥 Referrals</option>
              <option value="website">🌐 Website</option>
              <option value="social">📱 Social Media</option>
              <option value="direct">📧 Direct Mail</option>
              <option value="other">✏️ Other</option>
            </select>
          </div>
        </div>

        <!-- AI Preferences -->
        <div class="form-section">
          <h2>🤖 AI Assistant Preferences</h2>
          
          <div class="form-group">
            <label for="voiceGender">Voice Gender *</label>
            <select id="voiceGender" name="voiceGender" required>
              <option value="">Select voice...</option>
              <option value="female">Female (Recommended)</option>
              <option value="male">Male</option>
            </select>
          </div>

          <div class="form-group">
            <label>📅 When are you available for appointments? *</label>
            <div class="calendar-container">
              <div class="calendar-header">
                <h4>Select your working days:</h4>
              </div>
              <div class="days-grid">
                <div class="day-header">Mon</div>
                <div class="day-header">Tue</div>
                <div class="day-header">Wed</div>
                <div class="day-header">Thu</div>
                <div class="day-header">Fri</div>
                <div class="day-header">Sat</div>
                <div class="day-header">Sun</div>
                
                <div class="day-option" data-day="monday">
                  <input type="checkbox" id="day-monday" name="workingDays[]" value="monday">
                  <label for="day-monday">Mon</label>
                </div>
                <div class="day-option" data-day="tuesday">
                  <input type="checkbox" id="day-tuesday" name="workingDays[]" value="tuesday">
                  <label for="day-tuesday">Tue</label>
                </div>
                <div class="day-option" data-day="wednesday">
                  <input type="checkbox" id="day-wednesday" name="workingDays[]" value="wednesday">
                  <label for="day-wednesday">Wed</label>
                </div>
                <div class="day-option" data-day="thursday">
                  <input type="checkbox" id="day-thursday" name="workingDays[]" value="thursday">
                  <label for="day-thursday">Thu</label>
                </div>
                <div class="day-option" data-day="friday">
                  <input type="checkbox" id="day-friday" name="workingDays[]" value="friday">
                  <label for="day-friday">Fri</label>
                </div>
                <div class="day-option" data-day="saturday">
                  <input type="checkbox" id="day-saturday" name="workingDays[]" value="saturday">
                  <label for="day-saturday">Sat</label>
                </div>
                <div class="day-option" data-day="sunday">
                  <input type="checkbox" id="day-sunday" name="workingDays[]" value="sunday">
                  <label for="day-sunday">Sun</label>
                </div>
              </div>
              
              <div class="quick-select">
                <button type="button" class="quick-btn" data-days="monday,tuesday,wednesday,thursday,friday">Weekdays</button>
                <button type="button" class="quick-btn" data-days="saturday,sunday">Weekends</button>
                <button type="button" class="quick-btn" data-days="monday,tuesday,wednesday,thursday,friday,saturday,sunday">All Days</button>
                <button type="button" class="quick-btn clear-btn">Clear All</button>
              </div>
            </div>
          </div>

          <div class="form-group">
            <label>🕘 What hours are you available? *</label>
            <div class="hours-container">
              <div class="hours-grid">
                <div class="time-slot" data-time="6am">
                  <input type="checkbox" id="hour-6am" name="workingHours[]" value="6am">
                  <label for="hour-6am">6am</label>
                </div>
                <div class="time-slot" data-time="7am">
                  <input type="checkbox" id="hour-7am" name="workingHours[]" value="7am">
                  <label for="hour-7am">7am</label>
                </div>
                <div class="time-slot" data-time="8am">
                  <input type="checkbox" id="hour-8am" name="workingHours[]" value="8am">
                  <label for="hour-8am">8am</label>
                </div>
                <div class="time-slot" data-time="9am">
                  <input type="checkbox" id="hour-9am" name="workingHours[]" value="9am">
                  <label for="hour-9am">9am</label>
                </div>
                <div class="time-slot" data-time="10am">
                  <input type="checkbox" id="hour-10am" name="workingHours[]" value="10am">
                  <label for="hour-10am">10am</label>
                </div>
                <div class="time-slot" data-time="11am">
                  <input type="checkbox" id="hour-11am" name="workingHours[]" value="11am">
                  <label for="hour-11am">11am</label>
                </div>
                <div class="time-slot" data-time="12pm">
                  <input type="checkbox" id="hour-12pm" name="workingHours[]" value="12pm">
                  <label for="hour-12pm">12pm</label>
                </div>
                <div class="time-slot" data-time="1pm">
                  <input type="checkbox" id="hour-1pm" name="workingHours[]" value="1pm">
                  <label for="hour-1pm">1pm</label>
                </div>
                <div class="time-slot" data-time="2pm">
                  <input type="checkbox" id="hour-2pm" name="workingHours[]" value="2pm">
                  <label for="hour-2pm">2pm</label>
                </div>
                <div class="time-slot" data-time="3pm">
                  <input type="checkbox" id="hour-3pm" name="workingHours[]" value="3pm">
                  <label for="hour-3pm">3pm</label>
                </div>
                <div class="time-slot" data-time="4pm">
                  <input type="checkbox" id="hour-4pm" name="workingHours[]" value="4pm">
                  <label for="hour-4pm">4pm</label>
                </div>
                <div class="time-slot" data-time="5pm">
                  <input type="checkbox" id="hour-5pm" name="workingHours[]" value="5pm">
                  <label for="hour-5pm">5pm</label>
                </div>
                <div class="time-slot" data-time="6pm">
                  <input type="checkbox" id="hour-6pm" name="workingHours[]" value="6pm">
                  <label for="hour-6pm">6pm</label>
                </div>
                <div class="time-slot" data-time="7pm">
                  <input type="checkbox" id="hour-7pm" name="workingHours[]" value="7pm">
                  <label for="hour-7pm">7pm</label>
                </div>
                <div class="time-slot" data-time="8pm">
                  <input type="checkbox" id="hour-8pm" name="workingHours[]" value="8pm">
                  <label for="hour-8pm">8pm</label>
                </div>
                <div class="time-slot" data-time="9pm">
                  <input type="checkbox" id="hour-9pm" name="workingHours[]" value="9pm">
                  <label for="hour-9pm">9pm</label>
                </div>
                <div class="time-slot" data-time="10pm">
                  <input type="checkbox" id="hour-10pm" name="workingHours[]" value="10pm">
                  <label for="hour-10pm">10pm</label>
                </div>
                <div class="time-slot" data-time="11pm">
                  <input type="checkbox" id="hour-11pm" name="workingHours[]" value="11pm">
                  <label for="hour-11pm">11pm</label>
                </div>
                <div class="time-slot" data-time="12am">
                  <input type="checkbox" id="hour-12am" name="workingHours[]" value="12am">
                  <label for="hour-12am">12am</label>
                </div>
                <div class="time-slot" data-time="1am">
                  <input type="checkbox" id="hour-1am" name="workingHours[]" value="1am">
                  <label for="hour-1am">1am</label>
                </div>
                <div class="time-slot" data-time="2am">
                  <input type="checkbox" id="hour-2am" name="workingHours[]" value="2am">
                  <label for="hour-2am">2am</label>
                </div>
                <div class="time-slot" data-time="3am">
                  <input type="checkbox" id="hour-3am" name="workingHours[]" value="3am">
                  <label for="hour-3am">3am</label>
                </div>
                <div class="time-slot" data-time="4am">
                  <input type="checkbox" id="hour-4am" name="workingHours[]" value="4am">
                  <label for="hour-4am">4am</label>
                </div>
                <div class="time-slot" data-time="5am">
                  <input type="checkbox" id="hour-5am" name="workingHours[]" value="5am">
                  <label for="hour-5am">5am</label>
                </div>
              </div>
              
              <div class="quick-select">
                <button type="button" class="quick-btn" data-hours="9am,10am,11am,12pm,1pm,2pm,3pm,4pm,5pm">Business Hours</button>
                <button type="button" class="quick-btn" data-hours="8am,9am,10am,11am,12pm,1pm,2pm,3pm,4pm,5pm,6pm">Extended Hours</button>
                <button type="button" class="quick-btn" data-hours="6am,7am,8am,9am,10am,11am,12pm,1pm,2pm,3pm,4pm,5pm,6pm,7pm,8pm">All Day</button>
                <button type="button" class="quick-btn clear-btn">Clear All</button>
              </div>
            </div>
          </div>

          <div class="form-group">
            <label>📅 Select specific dates when you're closed</label>
            <div class="yearly-container">
              <div class="yearly-header">
                <h4>2025 Calendar - Click dates to block them:</h4>
                <p class="calendar-legend">
                  <span class="legend-item"><span class="legend-color uk-holiday"></span> UK Holiday</span>
                  <span class="legend-item"><span class="legend-color selected"></span> Closed</span>
                  <span class="legend-item"><span class="legend-color weekend"></span> Weekend</span>
                  <span class="legend-item"><span class="legend-color available"></span> Available</span>
                </p>
              </div>
              
              <div class="full-year-calendar" id="yearly-calendar">
                <!-- Calendar will be generated by JavaScript -->
              </div>
              
              
              <div class="yearly-note">
                <small>💡 Click any date to toggle it as closed. Double-click any date to select the entire month. UK holidays are pre-selected (red) but can be deselected. Weekends are highlighted in grey.</small>
              </div>
            </div>
          </div>

        </div>


        <button type="submit" id="submit-btn">🚀 Get Started</button>
        <p style="text-align: center; margin-top: 16px; color: #666; font-size: 13px;">
          No credit card required. We'll discuss pricing after setup.
        </p>
      </form>
    </div>

    <!-- Loading Section -->
    <div class="loading" id="loading-section">
      <div class="loading-spinner"></div>
      <div class="loading-text" id="loading-text">Creating your AI system...</div>
      <div class="loading-subtext" id="loading-subtext">This will take about 30 seconds</div>
    </div>

    <!-- Success Section -->
    <div class="success" id="success-section">
      <div class="success-icon">🎉</div>
      <h2>Your AI System is Live!</h2>
      <p style="color: #666; margin-bottom: 24px;">Check your email for complete setup instructions</p>

      <div class="success-details">
        <h3>📥 Your Lead Import URL:</h3>
        <p><strong id="import-url">Loading...</strong></p>
        
        <h3 style="margin-top: 16px;">🔑 Your API Key:</h3>
        <p><strong id="api-key">Loading...</strong></p>
        
        <h3 style="margin-top: 16px;">🆔 Your Client ID:</h3>
        <p><strong id="client-key">Loading...</strong></p>
      </div>

      <div class="action-buttons">
        <a href="#" id="import-link">📥 Import Your First Leads</a>
        <a href="#" id="dashboard-link" class="secondary">📊 View Dashboard</a>
      </div>
    </div>
  </div>

  <script>
    // Handle "Other" selections
    document.getElementById('industry').addEventListener('change', function() {
      const industry = this.value;
      if (industry === 'other') {
        // Show custom industry input
        let customInput = document.getElementById('customIndustry');
        if (!customInput) {
          customInput = document.createElement('input');
          customInput.type = 'text';
          customInput.id = 'customIndustry';
          customInput.name = 'customIndustry';
          customInput.placeholder = 'e.g. "Consulting", "Photography", "Fitness Training"';
          customInput.required = true;
          customInput.style.marginTop = '8px';
          this.parentNode.appendChild(customInput);
        }
        customInput.style.display = 'block';
      } else {
        // Hide custom input
        const customInput = document.getElementById('customIndustry');
        if (customInput) {
          customInput.style.display = 'none';
          customInput.required = false;
        }
      }
    });

    // Interactive Calendar Functionality
    // Quick select buttons for days
    document.querySelectorAll('.quick-btn[data-days]').forEach(btn => {
      btn.addEventListener('click', function() {
        const days = this.dataset.days.split(',');
        // Clear all first
        document.querySelectorAll('input[name="workingDays[]"]').forEach(input => {
          input.checked = false;
        });
        // Select specified days
        days.forEach(day => {
          const input = document.getElementById(`day-${day}`);
          if (input) input.checked = true;
        });
      });
    });

    // Quick select buttons for hours
    document.querySelectorAll('.quick-btn[data-hours]').forEach(btn => {
      btn.addEventListener('click', function() {
        const hours = this.dataset.hours.split(',');
        // Clear all first
        document.querySelectorAll('input[name="workingHours[]"]').forEach(input => {
          input.checked = false;
        });
        // Select specified hours
        hours.forEach(hour => {
          const input = document.getElementById(`hour-${hour}`);
          if (input) input.checked = true;
        });
      });
    });

    // Quick select buttons for months
    document.querySelectorAll('.quick-btn[data-months]').forEach(btn => {
      btn.addEventListener('click', function() {
        const months = this.dataset.months.split(',');
        // Clear all first
        document.querySelectorAll('input[name="yearlySchedule[]"]').forEach(input => {
          input.checked = false;
        });
        // Select specified months
        months.forEach(month => {
          const input = document.getElementById(`month-${month}`);
          if (input) input.checked = true;
        });
      });
    });

    // Clear all buttons
    document.querySelectorAll('.clear-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        const container = this.closest('.calendar-container, .hours-container, .yearly-container');
        container.querySelectorAll('input[type="checkbox"]').forEach(input => {
          input.checked = false;
        });
      });
    });

    // Full Year Calendar with UK Holidays
    const currentYear = 2025;
    let selectedDates = new Set();
    let deselectedHolidays = new Set();

    // UK Holidays 2025 (Bank Holidays + Major Holidays)
    const ukHolidays2025 = [
      '2025-01-01', // New Year's Day
      '2025-02-14', // Valentine's Day
      '2025-03-17', // St. Patrick's Day
      '2025-04-18', // Good Friday
      '2025-04-21', // Easter Monday
      '2025-05-05', // Early May Bank Holiday
      '2025-05-26', // Spring Bank Holiday
      '2025-06-21', // Summer Solstice
      '2025-08-25', // Summer Bank Holiday
      '2025-10-31', // Halloween
      '2025-11-05', // Bonfire Night
      '2025-11-11', // Remembrance Day
      '2025-12-21', // Winter Solstice
      '2025-12-24', // Christmas Eve
      '2025-12-25', // Christmas Day
      '2025-12-26', // Boxing Day
      '2025-12-31'  // New Year's Eve
    ];

    function isUkHoliday(dateStr) {
      return ukHolidays2025.includes(dateStr);
    }

    function generateCalendar() {
      const calendar = document.getElementById('yearly-calendar');
      const today = new Date();
      
      calendar.innerHTML = '';
      
      for (let month = 0; month < 12; month++) {
        const monthDiv = document.createElement('div');
        monthDiv.className = 'month-calendar';
        
        const monthTitle = document.createElement('div');
        monthTitle.className = 'month-title';
        monthTitle.textContent = new Date(currentYear, month).toLocaleDateString('en-GB', { month: 'long' });
        monthTitle.title = 'Double-click any date to select entire month';
        monthDiv.appendChild(monthTitle);
        
        const daysDiv = document.createElement('div');
        daysDiv.className = 'month-days';
        
        // Day headers
        const dayHeaders = ['S', 'M', 'T', 'W', 'T', 'F', 'S'];
        dayHeaders.forEach(day => {
          const dayHeader = document.createElement('div');
          dayHeader.className = 'day-header';
          dayHeader.textContent = day;
          daysDiv.appendChild(dayHeader);
        });
        
        const firstDay = new Date(currentYear, month, 1);
        const lastDay = new Date(currentYear, month + 1, 0);
        const startDay = firstDay.getDay();
        const daysInMonth = lastDay.getDate();
        
        // Empty cells for previous month's days (no overhangs)
        for (let i = 0; i < startDay; i++) {
          const dayDiv = document.createElement('div');
          dayDiv.className = 'calendar-day empty';
          daysDiv.appendChild(dayDiv);
        }
        
        // Current month's days
        for (let day = 1; day <= daysInMonth; day++) {
          const dayDiv = document.createElement('div');
          dayDiv.className = 'calendar-day';
          dayDiv.textContent = day;
          
          const dateStr = `${currentYear}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
          
          // Check if it's today
          const date = new Date(currentYear, month, day);
          if (date.toDateString() === today.toDateString()) {
            dayDiv.classList.add('today');
          }
          
          // Check if it's a weekend
          if (date.getDay() === 0 || date.getDay() === 6) {
            dayDiv.classList.add('weekend');
          }
          
          // Check if it's a UK holiday
          if (isUkHoliday(dateStr)) {
            dayDiv.classList.add('uk-holiday');
            
            // If holiday is not deselected, it's selected by default
            if (!deselectedHolidays.has(dateStr)) {
              dayDiv.classList.add('selected');
              selectedDates.add(dateStr);
            }
          } else if (selectedDates.has(dateStr)) {
            dayDiv.classList.add('selected');
          }
          
          dayDiv.addEventListener('click', () => {
            if (isUkHoliday(dateStr)) {
              // Handle UK holiday toggling
              if (deselectedHolidays.has(dateStr)) {
                // Re-select the holiday
                deselectedHolidays.delete(dateStr);
                dayDiv.classList.remove('deselected');
                dayDiv.classList.add('selected');
                selectedDates.add(dateStr);
              } else {
                // Deselect the holiday
                deselectedHolidays.add(dateStr);
                dayDiv.classList.remove('selected');
                dayDiv.classList.add('deselected');
                selectedDates.delete(dateStr);
              }
            } else {
              // Handle regular date selection
              if (selectedDates.has(dateStr)) {
                selectedDates.delete(dateStr);
                dayDiv.classList.remove('selected');
              } else {
                selectedDates.add(dateStr);
                dayDiv.classList.add('selected');
              }
            }
          });

          // Double-click to select entire month
          dayDiv.addEventListener('dblclick', () => {
            const lastDay = new Date(currentYear, month + 1, 0).getDate();
            for (let d = 1; d <= lastDay; d++) {
              const monthDateStr = `${currentYear}-${String(month + 1).padStart(2, '0')}-${String(d).padStart(2, '0')}`;
              selectedDates.add(monthDateStr);
              deselectedHolidays.delete(monthDateStr);
            }
            generateCalendar();
          });
          
          daysDiv.appendChild(dayDiv);
        }
        
        // No need to fill to 42 cells - let it be dynamic
        
        monthDiv.appendChild(daysDiv);
        calendar.appendChild(monthDiv);
      }
    }

    // Calendar is now purely interactive - no buttons needed

    // Initialize calendar
    generateCalendar();

    document.getElementById('signup-form').addEventListener('submit', async (e) => {
      e.preventDefault();
      
      const formData = new FormData(e.target);
      const data = Object.fromEntries(formData.entries());
      
      // Handle custom industry
      if (data.industry === 'other' && data.customIndustry) {
        data.industry = data.customIndustry;
        delete data.customIndustry;
      }
      
      // Handle working days array
      if (data['workingDays[]']) {
        data.workingDays = Array.isArray(data['workingDays[]']) 
          ? data['workingDays[]'].join(',') 
          : data['workingDays[]'];
        delete data['workingDays[]'];
      }
      
      // Handle working hours array
      if (data['workingHours[]']) {
        data.workingHours = Array.isArray(data['workingHours[]']) 
          ? data['workingHours[]'].join(',') 
          : data['workingHours[]'];
        delete data['workingHours[]'];
      }
      
      // Handle selected dates from yearly calendar
      data.yearlySchedule = Array.from(selectedDates).join(',');
      
      // Show loading
      document.getElementById('form-section').style.display = 'none';
      document.getElementById('loading-section').classList.add('active');
      
      const loadingSteps = [
        { text: 'Creating your AI system...', subtext: 'Setting up your account' },
        { text: 'Generating unique credentials...', subtext: 'Creating API keys' },
        { text: 'Preparing your dashboard...', subtext: 'Almost there!' },
        { text: 'Sending welcome email...', subtext: 'Final touches' }
      ];
      
      let stepIndex = 0;
      const stepInterval = setInterval(() => {
        if (stepIndex < loadingSteps.length) {
          document.getElementById('loading-text').textContent = loadingSteps[stepIndex].text;
          document.getElementById('loading-subtext').textContent = loadingSteps[stepIndex].subtext;
          stepIndex++;
        }
      }, 3000);
      
      try {
        const response = await fetch('/api/signup', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(data)
        });
        
        clearInterval(stepInterval);
        
        if (!response.ok) {
          const error = await response.json();
          throw new Error(error.error || 'Signup failed');
        }
        
        const result = await response.json();
        
        // Show success
        document.getElementById('loading-section').classList.remove('active');
        document.getElementById('success-section').classList.add('active');
        
        // Fill in details
        const baseUrl = window.location.origin;
        const importUrl = `${baseUrl}/lead-import.html?client=${result.clientKey}&key=${result.apiKey}`;
        
        document.getElementById('import-url').textContent = importUrl;
        document.getElementById('api-key').textContent = result.apiKey;
        document.getElementById('client-key').textContent = result.clientKey;
        document.getElementById('import-link').href = importUrl;
        document.getElementById('dashboard-link').href = `${baseUrl}/dashboard/${result.clientKey}`;
        
      } catch (error) {
        clearInterval(stepInterval);
        document.getElementById('loading-section').classList.remove('active');
        document.getElementById('form-section').style.display = 'block';
        
        const errorEl = document.getElementById('error-message');
        errorEl.textContent = error.message;
        errorEl.classList.add('active');
      }
    });
  </script>
</body>
</html>

